@import "~scss/_vars";

$colorLinePrimary: #525148;
$colorLineSecondary: #373632;

$colorBlack30: rgb(44, 43, 39, 0.3);

$colorPrimary: #cbc9bd;
$colorSecondary: #929082;
$colorTertiary: rgba(203, 201, 189, 0.3);

$colorHover: rgba(223, 221, 208, 0.08);

$colorBgLight: #373632;
$colorBgIcon: #484843;
$colorBgInactive: rgba(172, 169, 150, 0.3);

/*@media (prefers-color-scheme: dark) {*/
html.themeDark {

    /* Common */
    /* ---------------------------------------------------------------- */

    body { background: $colorBlack; color: $colorPrimary; }

    #root > .loaderWrapper { background: $colorBlack; }
	
    .cover.main::after {
        content: ""; position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; background: rgba(0,0,0,0.3);
    }

    .empty { color: $colorTertiary; }
    .placeholder { color: $colorTertiary; }
    ::-webkit-input-placeholder { color: $colorTertiary !important; }

    /* Components */
    /* ---------------------------------------------------------------- */

    .loaderWrapper {
        .loader { border-color: $colorLinePrimary; border-left-color: $colorOrange; }
    }

    /* Button */

    .button.grey { color: $colorPrimary; box-shadow: 0px 0px 0px 1px $colorLineSecondary inset; }
    .button.grey:hover { box-shadow: 0px 0px 0px 1px $colorLinePrimary inset; }

    .button.blank { border-color: $colorLineSecondary; }
    .button.blank:hover { border-color: $colorLinePrimary; }

    .filter {
        .line { background: $colorLineSecondary; }
    }

    .frame { background: $colorBlack; }

    .textarea { background: $colorBgIcon; }

    .switch { background: $colorBgInactive; }

    .sync { background: $colorBgIcon; }

    .select { border-color: $colorLinePrimary; }
    .select:hover, .select.active { background: $colorHover; }

    .listTemplate {
        .item.add { border-color: $colorLinePrimary; }
        .item:before { background: $colorHover; }
    }

    .previewObject {
        .border { border-color: $colorLinePrimary; }
    }

    /* IconObject */

    .iconObject.c56 { background-color: $colorBgIcon; }
    .iconObject.c64 { background-color: $colorBgIcon; }
    .iconObject.c96 { background-color: $colorBgIcon; }
    .iconObject.c112 { background-color: $colorBgIcon; }
    .iconObject.c128 { background-color: $colorBgIcon; }
    .iconObject.c40.isRelation, .iconObject.c48.isRelation { background-color: $colorBgIcon; }
    .iconObject.withLetter { background-color: $colorBgIcon; }

    /* EditorControls */

    .editorControls {
        .btn { background: $colorBgIcon; color: $colorSecondary; }
        .btn:hover { color: $colorPrimary; }
    }

    /* Popups */
    /* ---------------------------------------------------------------- */

    .popups {
        /* Common */

        .popup {
            .innerWrap { background: $colorBlack; }

            #loader { background: $colorBlack; }
        }

        /* PopupSearch */

        .popup.popupSearch {
            .head { background: $colorBlack; }
        }

        /* PopupSettings */

        .popup.popupSettings {
            .head { background: $colorBlack; }
            .head {
                .element:hover { color: $colorPrimary; }
            }

            .tabIndex .row, .tabOther .row { border-color: $colorLineSecondary; }
            
            .tabWallpaper .item.active { border-color: $colorLinePrimary; }
            .tabWallpaper .item .cover.upload { background-color: $colorBlack !important; border-color: $colorLinePrimary; }

            .tabPinIndex .button.blank, .tabPinSelect .button.blank, .tabPinConfirm .button.blank { border-color: $colorLineSecondary; }

            .tabPinIndex .input, .tabPinSelect .input, .tabPinConfirm .input { border-color: $colorLinePrimary; }

            .tabImportIndex {
                .item { border-color: $colorLineSecondary; }
                .item:hover, .item.active { border-color: $colorLinePrimary; }
                .item.notion .icon { background-image: url('~img/theme/dark/icon/popup/settings/import/notion.svg'); }
                .item.roam .icon { background-image: url('~img/theme/dark/icon/popup/settings/import/roam.svg'); }
            }
        }
    }

    /* Menu */
    /* ---------------------------------------------------------------- */

    .menus {

        /* Common */

        .menu { background: $colorBgLight; }
        .menu.vertical {
            .tabs { border-color: $colorLineSecondary; }
            .tabs {
                .tab:hover, .tab.active { color: $colorPrimary; }
            }

            .line { background: $colorLineSecondary; }
            .section::after { background: $colorLineSecondary; }

            .item { background: $colorBgLight; }
            .item.hover::before { background: $colorHover; }
            .item {
                .icon.delete:hover, .icon.more:hover { background-color: $colorHover; }
            }

            .loaderWrapper { background: $colorBgLight; }
        }

        .menu.menuBlockAdd {
            .item.isBig {
                .iconObject { background: $colorBgIcon; }
            }
        }

        .menu.menuSmile {
            .head { border-color: $colorLineSecondary; color: $colorSecondary; }
            .head {
                .btn:hover, .btn.active { color: $colorPrimary; }
            }
        }

        .menu.menuBlockCover {
            .head { border-color: $colorLineSecondary; color: $colorSecondary; }
            .head {
                .btn:hover, .btn.active { color: $colorPrimary; }
            }
        }

        .menu.menuBlockRelationView {
            .section > .name { color: $colorPrimary; }

            .info.canEdit:hover { background: $colorHover; }
			.cell.canEdit:hover { background: $colorHover; }
            .item.add:hover { 
                .info { background: $colorHover; } 
            }
        }

        .menu.menuBlockRelationEdit {
            .input { border-color: $colorLinePrimary; }
        }

        .menu.menuDataviewText {
            #input { background: $colorBgIcon; }
        }

        .menu.menuDataviewRelationList {
            .item:hover::before { background: $colorHover; }
        }

        .menu.menuDataviewFilterList {
            .item.add:hover::before { background: $colorHover; }
        }

        .menu.menuDataviewSort {
            .item.add:hover::before { background: $colorHover; }
        }

        .menu.menuSearchObject.big {
            .item {
                .iconObject { background: $colorBgIcon; }
            }
        }

        .menu.menuThreadList {
            .item:hover::before { background: $colorHover; }
        }

        .menu.menuBlockMore {
            .item:hover::before { background: $colorHover; }
        }
    }

    /* Header */
    /* ---------------------------------------------------------------- */

    .header.headerMainEdit { background: $colorBlack; }
    .header.headerMainEdit {
        .path { border: 0px; line-height: 28px; }
        .path {
            .item:hover { color: $colorPrimary; }
        }
        .icon.big:hover, .icon.big.hover { background-color: $colorHover; }
    }

    .header.headerMainIndex {
        .side.center { border: 0px; color: $colorSecondary; background: $colorBlack30; }
    }

    /* Pages */
    /* ---------------------------------------------------------------- */

    /* PageAuth */

    .pageAuth .textarea, .pageIndex .textarea, .pageObject .textarea { border: 0px; }

    /* PageMainIndex */

    .pageMainIndex {
        #documents {
            .emptySearch { background: $colorBlack; }

            .item { background: $colorBlack; }
            .item {
                .type { color: $colorSecondary; }
            }
        }
    }

    /* PageMainGraph */

    .pageMainGraph {
        canvas { background: $colorBlack; }

        .tabs { border-color: $colorLineSecondary; }
        .tabs {
            .tab:hover, .tab.active { color: $colorPrimary; }
        }

        .wrapper {
            .side.right { background: $colorBlack; border-color: $colorLineSecondary; }
            .side.right {
                .bottom { border-color: $colorLineSecondary; }
                .filter { background: none; }
            }

            .section {
                .item { background: $colorBlack; }
            }
        }

        .footer {
            .icon { background-color: $colorBgIcon; }
        }
    }

    /* PageMainStore */

    .pageMainStore {
        .head { background: $colorBlack; }
        .head {
            .tabs { background: $colorBgIcon; color: $colorSecondary; }
            .tabs {
                .item.active { background: $colorHover; color: $colorPrimary; }
            }
        }

        .body {
            .items {
                .item {
                    .info {
                        .line { background: $colorLineSecondary; }
                    }
                }
            }
        }
    }

    /* PageMainType */

    .pageMainType {
        .wrapper {
            table { border-color: $colorLineSecondary; }
            table {
                .cellHead .name { border-color: $colorLineSecondary; }
                .cell { border-color: $colorLineSecondary; }
                tbody { border-color: $colorLineSecondary; }
            }
        }
    }

    /* Blocks */
    /* ---------------------------------------------------------------- */

    .block.blockCover {
        .coverOver {
           position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; background: rgba(0,0,0,0.1); z-index: 1;
        }
        .elements {
            .btn.white { background: $colorBgIcon; color: $colorSecondary; }
            .btn.white:hover { background: $colorBlack; color: $colorPrimary; }
        }
    }

    .blocks {
        .block.blockIconPage {
            .iconObject { box-shadow: 0px 0px 0px 2px $colorBorderDark; }
        }

        .block.blockIconUser {
            .iconObject { box-shadow: 0px 0px 0px 2px $colorBorderDark; }
        }

        .block.blockDataview {
            .dataviewControls {
                .line { background: $colorLineSecondary; }
                .viewItem { color: $colorSecondary; }
                .viewItem:hover, .viewItem.active { color: $colorPrimary; }
            }

            .cellHead .resize .line { background: $colorLineSecondary; }

            .viewItem.viewGrid { box-shadow: 0px -1px $colorLineSecondary inset; }
            .viewItem.viewGrid {
                .row { box-shadow: 0px 1px $colorLineSecondary inset; }
            }

            .viewItem.viewBoard {
                .cellContent.isName { color: $colorPrimary; }
            }

            .viewItem.viewList {
                .cellContent.isName { color: $colorPrimary; }
            }

            .viewItem.viewGallery {
                .card { background: $colorBlack; border-color: $colorLinePrimary; }
                .card {
                    .cover { box-shadow: 0px 0px 0px 1px $colorLinePrimary inset; }
                }

                .cellContent.isName { color: $colorPrimary; }
            }
        }

        .block.blockType {
            .item {
                .iconObject { background: $colorBgIcon; }
            }
            .item.hover { background: $colorHover; }
        }

        .block.blockText.code > .wrapContent > .selectable > .dropTarget { background: $colorHover; }
    }

    /* Cells */
    /* ---------------------------------------------------------------- */

    .cell.isEditing {
        .cellContent { background: $colorBgIcon; }
    }
}