@import "~scss/_vars";

.blocks {
	.block { padding: 1px 0px; word-break: break-word; display: flex; flex: auto; position: relative; }
	.block {
		.wrapMenu { width: 48px; text-align: right; }
		.wrapContent { width: calc(100% - 48px); position: relative; }
		
		.flex { position: relative; z-index: 2; }
		.icon.dnd { 
			width: 12px; background-size: 2px 8px; opacity: 0; cursor: move; vertical-align: top; 
			border: 1px solid #d2d0c2; border-radius: 12px; height: 100%; transition: $transitionFast; margin-right: 6px;
			background-image: url('~img/icon/block/menu0.svg');
		}
		.icon.dnd:hover { background-image: url('~img/icon/block/menu1.svg'); border: 2px solid $colorOrange; }
		
		.colResize { width: 0px; position: relative; opacity: 0; }
		.colResize.active { opacity: 1; }
		.colResize {
			.inner { position: absolute; left: 20px; top: -15px; width: 12px; height: calc(100% + 30px); cursor: col-resize; z-index: 1; }
			.line { height: 100%; width: 2px; background: #ebe9e0; position: absolute; left: 50%; top: 0px; margin-left: -1px; }
		}
		
		.dropTarget.isOver.top { border-radius: 0px 0px 4px 4px !important; }
		.dropTarget.isOver.bottom { border-radius: 4px 4px 0px 0px !important; }
		.dropTarget.isOver.left { border-radius: 0px 4px 4px 0px !important; }
		.dropTarget.isOver.right { border-radius: 4px 0px 0px 4px !important; }
		
		.selectionOver { 
			position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; background: Highlight; opacity: 0.5; border-radius: 4px;
			display: none; 
		}
	}
	
	.block.align0 > .wrapContent { text-align: left; }
	.block.align1 > .wrapContent { text-align: center; }
	.block.align2 > .wrapContent { text-align: right; }
	
	.block.isResizing { cursor: col-resize; user-select: none; }
	
	.block.showMenu > .wrapMenu > .icon.dnd { opacity: 1; }
	.block.isAdding.top > .wrapContent > .selectable > .dropTarget { box-shadow: 0px -2px $colorOrange; border-radius: 0px 0px 4px 4px !important; }
	.block.isAdding.bottom > .wrapContent > .selectable > .dropTarget { box-shadow: 0px 2px $colorOrange; border-radius: 4px 4px 0px 0px !important; }
	
	.block.isAddingMenu.mTop > .wrapContent > .selectable > .dropTarget { box-shadow: 0px 2px $colorOrange inset; border-radius: 0px 0px 4px 4px !important; }
	.block.isAddingMenu.mBottom > .wrapContent > .selectable > .dropTarget { box-shadow: 0px -2px $colorOrange inset; border-radius: 4px 4px 0px 0px !important; }
	
	.block > .wrapContent > .children.canToggle { display: none; }
	.block.isToggled > .wrapContent > .children { display: block; }
	.block.isToggled > .wrapContent > .selectable > .dropTarget > .flex > .markers > .marker.toggle { transform: rotateZ(90deg); }
	
	.block > .wrapContent > .selectable.isDragging > .dropTarget { opacity: 0.3; }
	
	.block > .wrapContent > .selectable.isSelected > .selectionOver { display: block; }
	
	.block.blockIcon > .wrapMenu { visibility: hidden; }
}