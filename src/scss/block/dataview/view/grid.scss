@import "~scss/_vars";

.blocks {
	.block.blockDataview {
        .viewItem.viewGrid { border-collapse: collapse; border-bottom: 1px solid #e0ded2; table-layout: fixed; }
		.viewItem.viewGrid {
			.head { 
				text-align: left; color: #6c6a5f; padding: 14px; border-bottom: 1px solid #e0ded2; white-space: nowrap; 
				font-weight: 400; line-height: 20px; position: relative; @include text-overflow-nw; cursor: grab;
			}
			.head {
				.icon { width: 20px; height: 20px; margin: 0px 4px 0px 0px; vertical-align: top; }
				.name { 
					display: inline-block; line-height: 20px; height: 20px; vertical-align: top; width: calc(100% - 24px); 
					@include text-overflow-nw;
				}
				.resize { width: 20px; height: 20px; position: absolute; right: -10px; top: 14px; cursor: col-resize; z-index: 1; }
				.resize {
					.line { width: 1px; height: 100%; background: #e0ded2; position: absolute; top: 0px; left: 9px; }
				}
			}
			.head:last-child {
				.name { border: 0px; }
			}
			.head.last {
				.icon.plus { margin: 0px; }
			}
			.head.isDragging { border: 0px; background: rgba(255,255,255,0.5); }

			.cellContent { width: 100%; @include text-overflow-nw; height: 20px; }
				
			td.cell { padding: 14px; border-bottom: 1px solid #e0ded2; vertical-align: top; position: relative; word-break: break-word; }
			td.cell:last-child { border-right: 0px; }
			td.cell {
				.name { @include text-overflow-nw; width: 100%; }
			}

			td.cell.add { color: $colorDarkGrey; transition: $transitionFast; cursor: pointer; line-height: 20px; }
			td.cell.add {
				 .icon { vertical-align: top; margin: 0px 4px 0px 0px; }
				 .name { vertical-align: top; display: inline-block; line-height: 20px; height: 20px; vertical-align: top; width: calc(100% - 24px) }
			}
			td.cell.add:hover { color: $colorBlack; }
			td.cell.add:hover {
				.icon.plus { background-image: url('~img/icon/dataview/button/plus1.svg'); }
			}
			td.cell.isName {
				.icon.expand { 
					display: block; position: absolute; right: 2px; top: 2px; opacity: 0; width: 38px; height: calc(100% - 4px);
					background-size: 20px 20px; background-position: 9px 14px; background-color: rgba(255,255,255,0.75);
				}
				.name { line-height: 20px; @include text-overflow-nw; width: calc(100% - 24px); }
			}

            td.cell.isEditing { box-shadow: 0px 0px 0px 2px $colorOrange inset; border-radius: 2px; z-index: 1; }
            td.cell.isEditing {
                .input-text { padding: 0px; height: 20px; }
				.textarea { 
					padding: 0px; background: none; padding: 14px; box-shadow: 0px 0px 0px 2px $colorOrange inset; overflow: auto; font-family: 'Inter';
					position: absolute; left: 0px; top: 0px; height: auto; width: 100%; background: #fff; z-index: 1; white-space: normal;
				}
				.cellContent { height: auto; }
				.cellContent {
					.name { display: inline-block; }
				}
            }
			td.cell.isEditing.c-description { padding: 0px !important; box-shadow: 0px 0px; }
			td.cell.isEditing.c-select {
				.filter { display: inline-block; }
			}
            
			tr.active {
				td.cell.isName {
					.icon.expand { opacity: 1; }
				}
			}

			td.cell.c-checkbox { padding: 12px 14px; }

			td.cell.c-select { cursor: text; padding-bottom: 8px; }
			td.cell.c-select {
				.tagItem { margin: 0px 6px 6px 0px; vertical-align: top; }
				.DraggableTags { display: inline; vertical-align: top; line-height: 0px; }
				.DraggableTags::after { display: none; }
				.DraggableTags-tag { max-width: 100%; }

				.filter { cursor: text; margin-right: 0px; height: 18px; min-width: 18px; max-width: 100%; padding: 0px; display: none; }
				.filter {
					#filter { 
						-webkit-user-modify: read-write-plaintext-only; position: absolute; width: 100%; height: 100%; left: 0px; top: 0px; 
						word-wrap: break-word; white-space: normal;
					}
					#placeHolder { color: $colorDarkGrey; width: 100%; @include text-overflow-nw;}
				}
				.noPlaceholder {
					.filter #filter { position: relative; }
					#placeHolder { display: none; }
				}
			}

			.icon.checkbox { vertical-align: top; }
		}
    }
}